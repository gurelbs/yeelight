{"version":3,"sources":["api.js","App.js","index.js"],"names":["url","api","require","create","baseURL","module","exports","App","source","axios","CancelToken","useState","result","setResult","useSpeechRecognition","finalTranscript","transcript","resetTranscript","listening","browserSupportsSpeechRecognition","startListening","SpeechRecognition","continuous","language","interimResults","maxAlternatives","onResult","console","log","useEffect","checkFt","txt","startsWith","get","token","then","res","data","catch","err","perc","replace","id","setTimeout","clearTimeout","className","onTouchStart","onMouseDown","onTouchEnd","stopListening","onMouseUp","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6HAAA,IACIA,EAKAA,EAAM,OAGV,IAAMC,EATQC,EAAQ,GASJC,OAAO,CACrBC,QAASJ,IAGbK,EAAOC,QAAUL,G,2JCsGFM,MA9Gf,WACC,IACMC,EADcC,IAAMC,YACCF,SAC3B,EAA4BG,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAMIC,iCAJHC,GAFD,EACCC,WADD,EAECD,iBAEAE,GAJD,EAGCC,UAHD,EAICD,iBACAE,EALD,EAKCA,iCAEKC,EAAiB,kBACtBC,IAAkBD,eAAe,CAChCE,YAAY,EACZC,SAAU,KACVC,gBAAgB,EAChBC,gBAAiB,EACjBC,SAAU,SAAAd,GAAM,OAAIe,QAAQC,IAAIhB,OAwElC,OArEAiB,qBAAU,WACT,IAAMC,EAAU,SAAAC,GAAG,OAClBhB,IAAoBgB,GAAOhB,EAAgBiB,WAAWD,IAAQA,EAAIC,WAAWjB,IA0C5E,GAxCDA,IACCe,EAAQ,sDACRA,EAAQ,6BACRA,EAAQ,uBACRA,EAAQ,mCACRA,EAAQ,oCAET7B,IACEgC,IAAI,YAAY,CAACvB,YAAaF,EAAO0B,QACrCC,MAAK,SAAAC,GACLT,QAAQC,IAAIQ,EAAIC,MAChBxB,EAAU,4BACLI,OAELqB,OAAM,SAAAC,GAAG,OAAIZ,QAAQC,IAAIW,MAG3BxB,IACCe,EAAQ,gDACRA,EAAQ,6BACRA,EAAQ,mCACRA,EAAQ,mCACRA,EAAQ,0CAET7B,IACEgC,IAAI,WAAW,CAACvB,YAAaF,EAAO0B,QACpCC,MAAK,SAAAC,GACLT,QAAQC,IAAIQ,EAAIC,MAChBxB,EAAU,kCACLI,OAELqB,OAAM,SAAAC,GAAG,OAAIZ,QAAQC,IAAIW,MAEPxB,IACjBe,EAAQ,uBACRA,EAAQ,yCACRA,EAAQ,yCACRA,EAAQ,6BACRA,EAAQ,mCAEM,CACd,IAAIU,EAAQzB,EAAgB0B,QAAQ,QAAS,IAC7C,IAAKD,GAAQA,EAAO,KAAOA,EAAO,EAAG,OACrCvC,IACGgC,IADH,kBACkBO,GAAO,CAAC9B,YAAaF,EAAO0B,QAC3CC,MAAK,SAAAC,GACJT,QAAQC,IAAIQ,EAAIC,MAChBxB,EAAU,yCAAD,OAAY2B,EAAZ,MACTvB,OAEDqB,OAAM,SAAAC,GAAG,OAAIZ,QAAQC,IAAIW,SAE9B,CAACxB,IAGLc,qBAAU,WACR,IAAIa,EAMF,OALI3B,IACF2B,EAAKC,YAAW,WACd1B,MACC,MAEE,kBAAM2B,aAAaF,MACzB,CAAC3B,IAEAI,EAKJ,qBAAK0B,UAAU,MAAf,SACC,yBAAQA,UAAU,aAAlB,UACC,wBACCC,aAAc1B,EACd2B,YAAa3B,EACb4B,WAAY3B,IAAkB4B,cAC9BC,UAAW7B,IAAkB4B,cAC7BE,QAAS/B,EALV,+DAQA,4BAAIR,SAdC,gFC1FTwC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.7ff6e9db.chunk.js","sourcesContent":["const axios = require('axios')\r\nlet url;\r\n\r\nif (process.env.NODE_ENV === 'development'){\r\n    url = 'http://localhost:4000/api'\r\n} else {\r\n    url = '/api'\r\n}\r\n\r\nconst api = axios.create({\r\n    baseURL: url\r\n})\r\n\r\nmodule.exports = api","import React, { useEffect, useState } from 'react'\nimport './App.css'\nimport SpeechRecognition, { useSpeechRecognition } from 'react-speech-recognition'\nimport axios from 'axios'\nimport api from './api'\nfunction App() {\n\tconst CancelToken = axios.CancelToken;\n\tconst source = CancelToken.source();\n\tconst [result, setResult] = useState('')\n\tconst {\n\t\ttranscript,\n\t\tfinalTranscript,\n\t\tlistening,\n\t\tresetTranscript,\n\t\tbrowserSupportsSpeechRecognition,\n\t} = useSpeechRecognition()\n\tconst startListening = () =>\n\t\tSpeechRecognition.startListening({\n\t\t\tcontinuous: true,\n\t\t\tlanguage: 'he',\n\t\t\tinterimResults: true,\n\t\t\tmaxAlternatives: 1,\n\t\t\tonResult: result => console.log(result),\n\t\t})\n\n\tuseEffect(() => {\n\t\tconst checkFt = txt =>\n\t\t\tfinalTranscript === txt || finalTranscript.startsWith(txt) || txt.startsWith(finalTranscript)\n\t\tconst isOff =\n\t\t\tfinalTranscript &&\n\t\t\t(checkFt('ויהי חושך') ||\n\t\t\t\tcheckFt('חושך') ||\n\t\t\t\tcheckFt('כבה') ||\n\t\t\t\tcheckFt('כיבוי') ||\n\t\t\t\tcheckFt('לכבות'))\n\t\tif (isOff) {\n\t\t\tapi\n\t\t\t\t.get('?mode=off',{CancelToken: source.token})\n\t\t\t\t.then(res => {\n\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t\tsetResult('מכבה')\n          resetTranscript()\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err))\n\t\t}\n\t\tconst isOn =\n\t\t\tfinalTranscript &&\n\t\t\t(checkFt('ויהי אור') ||\n\t\t\t\tcheckFt('הדלק') ||\n\t\t\t\tcheckFt('הדלקה') ||\n\t\t\t\tcheckFt('הפעלה') ||\n\t\t\t\tcheckFt('להדליק'))\n\t\tif (isOn) {\n\t\t\tapi\n\t\t\t\t.get('?mode=on',{CancelToken: source.token})\n\t\t\t\t.then(res => {\n\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t\tsetResult('מדליק')\n          resetTranscript()\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err))\n\t\t}\n    const brightness = finalTranscript && (\n      checkFt('אור') || \n      checkFt('בהירות') || \n      checkFt('מהירות') || \n      checkFt('בהיר') || \n      checkFt('תאורה')\n      )\n    if (brightness) {\n      let perc =  finalTranscript.replace(/[\\D]/g, '')\n      if (!perc || perc > 100 || perc < 0) return\n      api\n        .get(`?bright=${perc}`,{CancelToken: source.token})\n        .then(res => {\n          console.log(res.data)\n          setResult(`בהירות: ${perc}%`)\n          resetTranscript()\n        })\n        .catch(err => console.log(err))\n    }\n\t}, [finalTranscript])\n\n\nuseEffect(() => {\n  let id;\n    if (finalTranscript){\n      id = setTimeout(() => {\n        resetTranscript()\n      }, 1000);\n    }\n    return () => clearTimeout(id);\n  }, [finalTranscript]);\n\n\tif (!browserSupportsSpeechRecognition) {\n\t\treturn <span>Browser doesn't support speech recognition.</span>\n\t}\n\n\treturn (\n\t\t<div className='App'>\n\t\t\t<header className='App-header'>\n\t\t\t\t<button\n\t\t\t\t\tonTouchStart={startListening}\n\t\t\t\t\tonMouseDown={startListening}\n\t\t\t\t\tonTouchEnd={SpeechRecognition.stopListening}\n\t\t\t\t\tonMouseUp={SpeechRecognition.stopListening}\n\t\t\t\t\tonClick={startListening}>\n\t\t\t\t\tהחזק ודבר\n\t\t\t\t</button>\n\t\t\t\t<p>{result}</p>\n\t\t\t</header>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}